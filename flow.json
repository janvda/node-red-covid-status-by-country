[{"id":"3739886a.1825b8","type":"tab","label":"Flow 1","disabled":false,"info":""},{"id":"52a875d9.1a5e1c","type":"ui_base","theme":{"name":"theme-light","lightTheme":{"default":"#0094CE","baseColor":"#0094CE","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#0094CE","value":"#0094CE","edited":false},"page-titlebar-backgroundColor":{"value":"#0094CE","edited":false},"page-backgroundColor":{"value":"#fafafa","edited":false},"page-sidebar-backgroundColor":{"value":"#ffffff","edited":false},"group-textColor":{"value":"#1bbfff","edited":false},"group-borderColor":{"value":"#ffffff","edited":false},"group-backgroundColor":{"value":"#ffffff","edited":false},"widget-textColor":{"value":"#111111","edited":false},"widget-backgroundColor":{"value":"#0094ce","edited":false},"widget-borderColor":{"value":"#ffffff","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey"}},"site":{"name":"Node-RED Dashboard","hideToolbar":"false","allowSwipe":"false","lockMenu":"false","allowTempTheme":"true","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"78853c89.625cc4","type":"ui_tab","name":"Tab 1","icon":"dashboard","order":1},{"id":"984606ac.155a48","type":"ui_group","z":"","name":"Group 1","tab":"78853c89.625cc4","order":1,"disp":true,"width":"16","collapse":false},{"id":"48cc765f.3e0de8","type":"http request","z":"3739886a.1825b8","name":"","method":"GET","ret":"txt","paytoqs":false,"url":"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv","tls":"","persist":false,"proxy":"","authType":"","x":350,"y":80,"wires":[["d78d0310.f64ee","b1fdd2fb.c9e67"]]},{"id":"e0b426d3.a4e598","type":"inject","z":"3739886a.1825b8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":160,"y":60,"wires":[["48cc765f.3e0de8"]]},{"id":"d78d0310.f64ee","type":"debug","z":"3739886a.1825b8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":500,"y":80,"wires":[]},{"id":"b1fdd2fb.c9e67","type":"csv","z":"3739886a.1825b8","name":"","sep":",","hdrin":false,"hdrout":true,"multi":"mult","ret":"\\n","temp":"","skip":"0","strings":true,"x":330,"y":140,"wires":[["79857f5e.29c53","d78c600d.35a92"]]},{"id":"79857f5e.29c53","type":"debug","z":"3739886a.1825b8","name":"csv2array","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":500,"y":140,"wires":[]},{"id":"d78c600d.35a92","type":"change","z":"3739886a.1825b8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"/* payload[0]~>$sift(function($v,$k){ $k~>/col/}) */\t(\t   $header := payload[0]~>$each(function($v,$k) { { \"key\" : $k, \"val\" : $v} } );\t   {\t     \"header\" : $header,\t     \"last_col\" : $header[-1],\t     \"last_col_min_8\" : $header[-8],\t     \"location\" : payload[col2 != \"Country/Region\"].(\t        $new_cases_current := ($lookup($,$header[-1].key)-$lookup($,$header[-8].key))/7;\t        $new_cases_1week_ago := ($lookup($,$header[-8].key)-$lookup($,$header[-15].key))/7;\t        {\t         \"country_region\" : $lookup($,\"col2\"),\t         \"province_state\" : $lookup($,\"col1\"),\t         \"total_conf_cases\": $lookup($,$header[-1].key),\t         \"new_cases_current\" : $new_cases_current,\t         \"new_cases_1week_ago\" : $new_cases_1week_ago,\t         \"reproduction_number\" :   $new_cases_1week_ago = 0 \t                                   ? ($new_cases_current = 0 ? 0 : 9999)\t                                   : ($new_cases_current/$new_cases_1week_ago)~>$round(2)\t        }\t      )\t   }\t   \t)","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":320,"y":200,"wires":[["9124a122.24074","4e81e87d.b3abf8"]]},{"id":"9124a122.24074","type":"debug","z":"3739886a.1825b8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":530,"y":200,"wires":[]},{"id":"4e81e87d.b3abf8","type":"change","z":"3739886a.1825b8","name":"select only countries","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.location[$not($exists(province_state))]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":320,"y":260,"wires":[["4406d2a6.88b6ac","7f27f9ea.a5ea88"]]},{"id":"4406d2a6.88b6ac","type":"debug","z":"3739886a.1825b8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":530,"y":260,"wires":[]},{"id":"e9092edc.7f8d3","type":"ui_table","z":"3739886a.1825b8","group":"984606ac.155a48","name":"","order":0,"width":"16","height":"16","columns":[{"field":"country_region","title":"location","width":"","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"new_cases_per_million","title":"new cases per million","width":"","align":"right","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"reproduction_number","title":"reproduction number","width":"","align":"right","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"population","title":"population","width":"","align":"right","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"total_conf_cases","title":"total conf cases","width":"","align":"right","formatter":"plaintext","formatterParams":{"target":"_blank"}}],"outputs":0,"cts":false,"x":330,"y":380,"wires":[]},{"id":"7f27f9ea.a5ea88","type":"change","z":"3739886a.1825b8","name":"add population, ...","rules":[{"t":"set","p":"payload","pt":"msg","to":"(\t  /* tables based on https://population.un.org/wpp/Download/Standard/Population/ for 2020 */\t  $countries := [\t   {\t       \"country\" : \"Burundi\",\t       \"population\" : 11890.781 \t   },\t   {\t       \"country\" : \"Comoros\",\t       \"population\" : 869.595 \t   },\t   {\t       \"country\" : \"Djibouti\",\t       \"population\" : 988.002 \t   },\t   {\t       \"country\" : \"Eritrea\",\t       \"population\" : 3546.427 \t   },\t   {\t       \"country\" : \"Ethiopia\",\t       \"population\" : 114963.583 \t   },\t   {\t       \"country\" : \"Kenya\",\t       \"population\" : 53771.3 \t   },\t   {\t       \"country\" : \"Madagascar\",\t       \"population\" : 27691.019 \t   },\t   {\t       \"country\" : \"Malawi\",\t       \"population\" : 19129.955 \t   },\t   {\t       \"country\" : \"Mauritius\",\t       \"population\" : 1271.767 \t   },\t   {\t       \"country\" : \"Mayotte\",\t       \"population\" : 272.813 \t   },\t   {\t       \"country\" : \"Mozambique\",\t       \"population\" : 31255.435 \t   },\t   {\t       \"country\" : \"RÃ©union\",\t       \"population\" : 895.308 \t   },\t   {\t       \"country\" : \"Rwanda\",\t       \"population\" : 12952.209 \t   },\t   {\t       \"country\" : \"Seychelles\",\t       \"population\" : 98.34 \t   },\t   {\t       \"country\" : \"Somalia\",\t       \"population\" : 15893.219 \t   },\t   {\t       \"country\" : \"South Sudan\",\t       \"population\" : 11193.729 \t   },\t   {\t       \"country\" : \"Uganda\",\t       \"population\" : 45741 \t   },\t   {\t       \"country\" : \"Tanzania\",\t       \"population\" : 59734.213 \t   },\t   {\t       \"country\" : \"Zambia\",\t       \"population\" : 18383.956 \t   },\t   {\t       \"country\" : \"Zimbabwe\",\t       \"population\" : 14862.927 \t   },\t   {\t       \"country\" : \"Angola\",\t       \"population\" : 32866.268 \t   },\t   {\t       \"country\" : \"Cameroon\",\t       \"population\" : 26545.864 \t   },\t   {\t       \"country\" : \"Central African Republic\",\t       \"population\" : 4829.764 \t   },\t   {\t       \"country\" : \"Chad\",\t       \"population\" : 16425.859 \t   },\t   {\t       \"country\" : \"Congo (Brazzaville)\",\t       \"population\" : 5518.092 \t   },\t   {\t       \"country\" : \"Congo (Kinshasa)\",\t       \"population\" : 89561.404 \t   },\t   {\t       \"country\" : \"Equatorial Guinea\",\t       \"population\" : 1402.985 \t   },\t   {\t       \"country\" : \"Gabon\",\t       \"population\" : 2225.728 \t   },\t   {\t       \"country\" : \"Sao Tome and Principe\",\t       \"population\" : 219.161 \t   },\t   {\t       \"country\" : \"Botswana\",\t       \"population\" : 2351.625 \t   },\t   {\t       \"country\" : \"Eswatini\",\t       \"population\" : 1160.164 \t   },\t   {\t       \"country\" : \"Lesotho\",\t       \"population\" : 2142.252 \t   },\t   {\t       \"country\" : \"Namibia\",\t       \"population\" : 2540.916 \t   },\t   {\t       \"country\" : \"South Africa\",\t       \"population\" : 59308.69 \t   },\t   {\t       \"country\" : \"Benin\",\t       \"population\" : 12123.198 \t   },\t   {\t       \"country\" : \"Burkina Faso\",\t       \"population\" : 20903.278 \t   },\t   {\t       \"country\" : \"Cabo Verde\",\t       \"population\" : 555.988 \t   },\t   {\t       \"country\" : \"Cote d'Ivoire\",\t       \"population\" : 26378.275 \t   },\t   {\t       \"country\" : \"Gambia\",\t       \"population\" : 2416.664 \t   },\t   {\t       \"country\" : \"Ghana\",\t       \"population\" : 31072.945 \t   },\t   {\t       \"country\" : \"Guinea\",\t       \"population\" : 13132.792 \t   },\t   {\t       \"country\" : \"Guinea-Bissau\",\t       \"population\" : 1967.998 \t   },\t   {\t       \"country\" : \"Liberia\",\t       \"population\" : 5057.677 \t   },\t   {\t       \"country\" : \"Mali\",\t       \"population\" : 20250.834 \t   },\t   {\t       \"country\" : \"Mauritania\",\t       \"population\" : 4649.66 \t   },\t   {\t       \"country\" : \"Niger\",\t       \"population\" : 24206.636 \t   },\t   {\t       \"country\" : \"Nigeria\",\t       \"population\" : 206139.587 \t   },\t   {\t       \"country\" : \"Saint Helena\",\t       \"population\" : 6.071 \t   },\t   {\t       \"country\" : \"Senegal\",\t       \"population\" : 16743.93 \t   },\t   {\t       \"country\" : \"Sierra Leone\",\t       \"population\" : 7976.985 \t   },\t   {\t       \"country\" : \"Togo\",\t       \"population\" : 8278.737 \t   },\t   {\t       \"country\" : \"Algeria\",\t       \"population\" : 43851.043 \t   },\t   {\t       \"country\" : \"Egypt\",\t       \"population\" : 102334.403 \t   },\t   {\t       \"country\" : \"Libya\",\t       \"population\" : 6871.287 \t   },\t   {\t       \"country\" : \"Morocco\",\t       \"population\" : 36910.558 \t   },\t   {\t       \"country\" : \"Sudan\",\t       \"population\" : 43849.269 \t   },\t   {\t       \"country\" : \"Tunisia\",\t       \"population\" : 11818.618 \t   },\t   {\t       \"country\" : \"Western Sahara\",\t       \"population\" : 597.33 \t   },\t   {\t       \"country\" : \"Armenia\",\t       \"population\" : 2963.234 \t   },\t   {\t       \"country\" : \"Azerbaijan\",\t       \"population\" : 10139.175 \t   },\t   {\t       \"country\" : \"Bahrain\",\t       \"population\" : 1701.583 \t   },\t   {\t       \"country\" : \"Cyprus\",\t       \"population\" : 1207.361 \t   },\t   {\t       \"country\" : \"Georgia\",\t       \"population\" : 3989.175 \t   },\t   {\t       \"country\" : \"Iraq\",\t       \"population\" : 40222.503 \t   },\t   {\t       \"country\" : \"Israel\",\t       \"population\" : 8655.541 \t   },\t   {\t       \"country\" : \"Jordan\",\t       \"population\" : 10203.14 \t   },\t   {\t       \"country\" : \"Kuwait\",\t       \"population\" : 4270.563 \t   },\t   {\t       \"country\" : \"Lebanon\",\t       \"population\" : 6825.442 \t   },\t   {\t       \"country\" : \"Oman\",\t       \"population\" : 5106.622 \t   },\t   {\t       \"country\" : \"Qatar\",\t       \"population\" : 2881.06 \t   },\t   {\t       \"country\" : \"Saudi Arabia\",\t       \"population\" : 34813.867 \t   },\t   {\t       \"country\" : \"State of Palestine\",\t       \"population\" : 5101.416 \t   },\t   {\t       \"country\" : \"Syria\",\t       \"population\" : 17500.657 \t   },\t   {\t       \"country\" : \"Turkey\",\t       \"population\" : 84339.067 \t   },\t   {\t       \"country\" : \"United Arab Emirates\",\t       \"population\" : 9890.4 \t   },\t   {\t       \"country\" : \"Yemen\",\t       \"population\" : 29825.968 \t   },\t   {\t       \"country\" : \"Kazakhstan\",\t       \"population\" : 18776.707 \t   },\t   {\t       \"country\" : \"Kyrgyzstan\",\t       \"population\" : 6524.191 \t   },\t   {\t       \"country\" : \"Tajikistan\",\t       \"population\" : 9537.642 \t   },\t   {\t       \"country\" : \"Turkmenistan\",\t       \"population\" : 6031.187 \t   },\t   {\t       \"country\" : \"Uzbekistan\",\t       \"population\" : 33469.199 \t   },\t   {\t       \"country\" : \"Afghanistan\",\t       \"population\" : 38928.341 \t   },\t   {\t       \"country\" : \"Bangladesh\",\t       \"population\" : 164689.383 \t   },\t   {\t       \"country\" : \"Bhutan\",\t       \"population\" : 771.612 \t   },\t   {\t       \"country\" : \"India\",\t       \"population\" : 1380004.385 \t   },\t   {\t       \"country\" : \"Iran\",\t       \"population\" : 83992.953 \t   },\t   {\t       \"country\" : \"Maldives\",\t       \"population\" : 540.542 \t   },\t   {\t       \"country\" : \"Nepal\",\t       \"population\" : 29136.808 \t   },\t   {\t       \"country\" : \"Pakistan\",\t       \"population\" : 220892.331 \t   },\t   {\t       \"country\" : \"Sri Lanka\",\t       \"population\" : 21413.25 \t   },\t   {\t       \"country\" : \"China\",\t       \"population\" : 1439323.774 \t   },\t   {\t       \"country\" : \"China, Hong Kong SAR\",\t       \"population\" : 7496.988 \t   },\t   {\t       \"country\" : \"China, Macao SAR\",\t       \"population\" : 649.342 \t   },\t   {\t       \"country\" : \"Taiwan*\",\t       \"population\" : 23816.775 \t   },\t   {\t       \"country\" : \"Dem. People's Republic of Korea\",\t       \"population\" : 25778.815 \t   },\t   {\t       \"country\" : \"Japan\",\t       \"population\" : 126476.458 \t   },\t   {\t       \"country\" : \"Mongolia\",\t       \"population\" : 3278.292 \t   },\t   {\t       \"country\" : \"Korea, South\",\t       \"population\" : 51269.183 \t   },\t   {\t       \"country\" : \"Brunei\",\t       \"population\" : 437.483 \t   },\t   {\t       \"country\" : \"Cambodia\",\t       \"population\" : 16718.971 \t   },\t   {\t       \"country\" : \"Indonesia\",\t       \"population\" : 273523.621 \t   },\t   {\t       \"country\" : \"Laos\",\t       \"population\" : 7275.556 \t   },\t   {\t       \"country\" : \"Malaysia\",\t       \"population\" : 32365.998 \t   },\t   {\t       \"country\" : \"Myanmar\",\t       \"population\" : 54409.794 \t   },\t   {\t       \"country\" : \"Philippines\",\t       \"population\" : 109581.085 \t   },\t   {\t       \"country\" : \"Singapore\",\t       \"population\" : 5850.343 \t   },\t   {\t       \"country\" : \"Thailand\",\t       \"population\" : 69799.978 \t   },\t   {\t       \"country\" : \"Timor-Leste\",\t       \"population\" : 1318.442 \t   },\t   {\t       \"country\" : \"Vietnam\",\t       \"population\" : 97338.583 \t   },\t   {\t       \"country\" : \"Anguilla\",\t       \"population\" : 15.002 \t   },\t   {\t       \"country\" : \"Antigua and Barbuda\",\t       \"population\" : 97.928 \t   },\t   {\t       \"country\" : \"Aruba\",\t       \"population\" : 106.766 \t   },\t   {\t       \"country\" : \"Bahamas\",\t       \"population\" : 393.248 \t   },\t   {\t       \"country\" : \"Barbados\",\t       \"population\" : 287.371 \t   },\t   {\t       \"country\" : \"Bonaire, Sint Eustatius and Saba\",\t       \"population\" : 26.221 \t   },\t   {\t       \"country\" : \"British Virgin Islands\",\t       \"population\" : 30.237 \t   },\t   {\t       \"country\" : \"Cayman Islands\",\t       \"population\" : 65.72 \t   },\t   {\t       \"country\" : \"Cuba\",\t       \"population\" : 11326.616 \t   },\t   {\t       \"country\" : \"CuraÃ§ao\",\t       \"population\" : 164.1 \t   },\t   {\t       \"country\" : \"Dominica\",\t       \"population\" : 71.991 \t   },\t   {\t       \"country\" : \"Dominican Republic\",\t       \"population\" : 10847.904 \t   },\t   {\t       \"country\" : \"Grenada\",\t       \"population\" : 112.519 \t   },\t   {\t       \"country\" : \"Guadeloupe\",\t       \"population\" : 400.127 \t   },\t   {\t       \"country\" : \"Haiti\",\t       \"population\" : 11402.533 \t   },\t   {\t       \"country\" : \"Jamaica\",\t       \"population\" : 2961.161 \t   },\t   {\t       \"country\" : \"Martinique\",\t       \"population\" : 375.265 \t   },\t   {\t       \"country\" : \"Montserrat\",\t       \"population\" : 4.999 \t   },\t   {\t       \"country\" : \"Puerto Rico\",\t       \"population\" : 2860.84 \t   },\t   {\t       \"country\" : \"Saint BarthÃ©lem\",\t       \"population\" : 9.885 \t   },\t   {\t       \"country\" : \"Saint Kitts and Nevis\",\t       \"population\" : 53.192 \t   },\t   {\t       \"country\" : \"Saint Lucia\",\t       \"population\" : 183.629 \t   },\t   {\t       \"country\" : \"Saint Martin (French part)\",\t       \"population\" : 38.659 \t   },\t   {\t       \"country\" : \"Saint Vincent and the Grenadines\",\t       \"population\" : 110.947 \t   },\t   {\t       \"country\" : \"Sint Maarten (Dutch part)\",\t       \"population\" : 42.882 \t   },\t   {\t       \"country\" : \"Trinidad and Tobago\",\t       \"population\" : 1399.491 \t   },\t   {\t       \"country\" : \"Turks and Caicos Islands\",\t       \"population\" : 38.718 \t   },\t   {\t       \"country\" : \"United States Virgin Islands\",\t       \"population\" : 104.423 \t   },\t   {\t       \"country\" : \"Belize\",\t       \"population\" : 397.621 \t   },\t   {\t       \"country\" : \"Costa Rica\",\t       \"population\" : 5094.114 \t   },\t   {\t       \"country\" : \"El Salvador\",\t       \"population\" : 6486.201 \t   },\t   {\t       \"country\" : \"Guatemala\",\t       \"population\" : 17915.567 \t   },\t   {\t       \"country\" : \"Honduras\",\t       \"population\" : 9904.608 \t   },\t   {\t       \"country\" : \"Mexico\",\t       \"population\" : 128932.753 \t   },\t   {\t       \"country\" : \"Nicaragua\",\t       \"population\" : 6624.554 \t   },\t   {\t       \"country\" : \"Panama\",\t       \"population\" : 4314.768 \t   },\t   {\t       \"country\" : \"Argentina\",\t       \"population\" : 45195.777 \t   },\t   {\t       \"country\" : \"Bolivia\",\t       \"population\" : 11673.029 \t   },\t   {\t       \"country\" : \"Brazil\",\t       \"population\" : 212559.409 \t   },\t   {\t       \"country\" : \"Chile\",\t       \"population\" : 19116.209 \t   },\t   {\t       \"country\" : \"Colombia\",\t       \"population\" : 50882.884 \t   },\t   {\t       \"country\" : \"Ecuador\",\t       \"population\" : 17643.06 \t   },\t   {\t       \"country\" : \"Falkland Islands (Malvinas)\",\t       \"population\" : 3.483 \t   },\t   {\t       \"country\" : \"French Guiana\",\t       \"population\" : 298.682 \t   },\t   {\t       \"country\" : \"Guyana\",\t       \"population\" : 786.559 \t   },\t   {\t       \"country\" : \"Paraguay\",\t       \"population\" : 7132.53 \t   },\t   {\t       \"country\" : \"Peru\",\t       \"population\" : 32971.846 \t   },\t   {\t       \"country\" : \"Suriname\",\t       \"population\" : 586.634 \t   },\t   {\t       \"country\" : \"Uruguay\",\t       \"population\" : 3473.727 \t   },\t   {\t       \"country\" : \"Venezuela\",\t       \"population\" : 28435.943 \t   },\t   {\t       \"country\" : \"Australia\",\t       \"population\" : 25499.881 \t   },\t   {\t       \"country\" : \"New Zealand\",\t       \"population\" : 4822.233 \t   },\t   {\t       \"country\" : \"Fiji\",\t       \"population\" : 896.444 \t   },\t   {\t       \"country\" : \"New Caledonia\",\t       \"population\" : 285.491 \t   },\t   {\t       \"country\" : \"Papua New Guinea\",\t       \"population\" : 8947.027 \t   },\t   {\t       \"country\" : \"Solomon Islands\",\t       \"population\" : 686.878 \t   },\t   {\t       \"country\" : \"Vanuatu\",\t       \"population\" : 307.15 \t   },\t   {\t       \"country\" : \"Guam\",\t       \"population\" : 168.783 \t   },\t   {\t       \"country\" : \"Kiribati\",\t       \"population\" : 119.446 \t   },\t   {\t       \"country\" : \"Marshall Islands\",\t       \"population\" : 59.194 \t   },\t   {\t       \"country\" : \"Micronesia (Fed. States of)\",\t       \"population\" : 115.021 \t   },\t   {\t       \"country\" : \"Nauru\",\t       \"population\" : 10.834 \t   },\t   {\t       \"country\" : \"Northern Mariana Islands\",\t       \"population\" : 57.557 \t   },\t   {\t       \"country\" : \"Palau\",\t       \"population\" : 18.092 \t   },\t   {\t       \"country\" : \"American Samoa\",\t       \"population\" : 55.197 \t   },\t   {\t       \"country\" : \"Cook Islands\",\t       \"population\" : 17.564 \t   },\t   {\t       \"country\" : \"French Polynesia\",\t       \"population\" : 280.904 \t   },\t   {\t       \"country\" : \"Niue\",\t       \"population\" : 1.618 \t   },\t   {\t       \"country\" : \"Samoa\",\t       \"population\" : 198.41 \t   },\t   {\t       \"country\" : \"Tokelau\",\t       \"population\" : 1.35 \t   },\t   {\t       \"country\" : \"Tonga\",\t       \"population\" : 105.697 \t   },\t   {\t       \"country\" : \"Tuvalu\",\t       \"population\" : 11.792 \t   },\t   {\t       \"country\" : \"Wallis and Futuna Islands\",\t       \"population\" : 11.246 \t   },\t   {\t       \"country\" : \"Belarus\",\t       \"population\" : 9449.321 \t   },\t   {\t       \"country\" : \"Bulgaria\",\t       \"population\" : 6948.445 \t   },\t   {\t       \"country\" : \"Czechia\",\t       \"population\" : 10708.982 \t   },\t   {\t       \"country\" : \"Hungary\",\t       \"population\" : 9660.35 \t   },\t   {\t       \"country\" : \"Poland\",\t       \"population\" : 37846.605 \t   },\t   {\t       \"country\" : \"Moldova\",\t       \"population\" : 4033.963 \t   },\t   {\t       \"country\" : \"Romania\",\t       \"population\" : 19237.682 \t   },\t   {\t       \"country\" : \"Russia\",\t       \"population\" : 145934.46 \t   },\t   {\t       \"country\" : \"Slovakia\",\t       \"population\" : 5459.643 \t   },\t   {\t       \"country\" : \"Ukraine\",\t       \"population\" : 43733.759 \t   },\t   {\t       \"country\" : \"Channel Islands\",\t       \"population\" : 173.859 \t   },\t   {\t       \"country\" : \"Denmark\",\t       \"population\" : 5792.203 \t   },\t   {\t       \"country\" : \"Estonia\",\t       \"population\" : 1326.539 \t   },\t   {\t       \"country\" : \"Faroe Islands\",\t       \"population\" : 48.865 \t   },\t   {\t       \"country\" : \"Finland\",\t       \"population\" : 5540.718 \t   },\t   {\t       \"country\" : \"Iceland\",\t       \"population\" : 341.25 \t   },\t   {\t       \"country\" : \"Ireland\",\t       \"population\" : 4937.796 \t   },\t   {\t       \"country\" : \"Isle of Man\",\t       \"population\" : 85.032 \t   },\t   {\t       \"country\" : \"Latvia\",\t       \"population\" : 1886.202 \t   },\t   {\t       \"country\" : \"Lithuania\",\t       \"population\" : 2722.291 \t   },\t   {\t       \"country\" : \"Norway\",\t       \"population\" : 5421.242 \t   },\t   {\t       \"country\" : \"Sweden\",\t       \"population\" : 10099.27 \t   },\t   {\t       \"country\" : \"United Kingdom\",\t       \"population\" : 67886.004 \t   },\t   {\t       \"country\" : \"Albania\",\t       \"population\" : 2877.8 \t   },\t   {\t       \"country\" : \"Andorra\",\t       \"population\" : 77.265 \t   },\t   {\t       \"country\" : \"Bosnia and Herzegovina\",\t       \"population\" : 3280.815 \t   },\t   {\t       \"country\" : \"Croatia\",\t       \"population\" : 4105.268 \t   },\t   {\t       \"country\" : \"Gibraltar\",\t       \"population\" : 33.691 \t   },\t   {\t       \"country\" : \"Greece\",\t       \"population\" : 10423.056 \t   },\t   {\t       \"country\" : \"Holy See\",\t       \"population\" : 0.809 \t   },\t   {\t       \"country\" : \"Italy\",\t       \"population\" : 60461.828 \t   },\t   {\t       \"country\" : \"Malta\",\t       \"population\" : 441.539 \t   },\t   {\t       \"country\" : \"Montenegro\",\t       \"population\" : 628.062 \t   },\t   {\t       \"country\" : \"North Macedonia\",\t       \"population\" : 2083.38 \t   },\t   {\t       \"country\" : \"Portugal\",\t       \"population\" : 10196.707 \t   },\t   {\t       \"country\" : \"San Marino\",\t       \"population\" : 33.938 \t   },\t   {\t       \"country\" : \"Serbia\",\t       \"population\" : 8737.37 \t   },\t   {\t       \"country\" : \"Slovenia\",\t       \"population\" : 2078.932 \t   },\t   {\t       \"country\" : \"Spain\",\t       \"population\" : 46754.783 \t   },\t   {\t       \"country\" : \"Austria\",\t       \"population\" : 9006.4 \t   },\t   {\t       \"country\" : \"Belgium\",\t       \"population\" : 11589.616 \t   },\t   {\t       \"country\" : \"France\",\t       \"population\" : 65273.512 \t   },\t   {\t       \"country\" : \"Germany\",\t       \"population\" : 83783.945 \t   },\t   {\t       \"country\" : \"Liechtenstein\",\t       \"population\" : 38.137 \t   },\t   {\t       \"country\" : \"Luxembourg\",\t       \"population\" : 625.976 \t   },\t   {\t       \"country\" : \"Monaco\",\t       \"population\" : 39.244 \t   },\t   {\t       \"country\" : \"Netherlands\",\t       \"population\" : 17134.873 \t   },\t   {\t       \"country\" : \"Switzerland\",\t       \"population\" : 8654.618 \t   },\t   {\t       \"country\" : \"Bermuda\",\t       \"population\" : 62.273 \t   },\t   {\t       \"country\" : \"Canada\",\t       \"population\" : 37742.157 \t   },\t   {\t       \"country\" : \"Greenland\",\t       \"population\" : 56.772 \t   },\t   {\t       \"country\" : \"Saint Pierre and Miquelon\",\t       \"population\" : 5.795 \t   },\t   {\t       \"country\" : \"US\",\t       \"population\" : 331002.647 \t   }\t];\t  payload~> | $ | {\t     \"population\" : ( $cur_country := $.country_region;\t                      $countries[country = $cur_country  ].population),\t      \"new_cases_per_million\" : ( $cur_country := $.country_region; \t                                  (new_cases_current*1000/$countries[country = $cur_country  ].population)\t                                     ~>$round(2);)\t     } |\t)","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":310,"y":320,"wires":[["e9092edc.7f8d3","8637a5d1.94f4c8"]]},{"id":"8637a5d1.94f4c8","type":"debug","z":"3739886a.1825b8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":530,"y":320,"wires":[]}]